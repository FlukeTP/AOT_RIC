<app-breadcrumb [breadcrumb]="breadcrumb"></app-breadcrumb>
<app-card header="ทสภ." isButton="false">
  <form [formGroup]="formAddGarbage">
    <div class="row">
      <div class="col-sm-6 text-left">
        <button-back routerLink="/garbagedis/garbagedis001"></button-back>
      </div>
      <div class="col-sm-6 text-right">
        <button-save (click)="onValidate()"></button-save>
      </div>
    </div>
    <hr />
    <!-- --------------topcal-------------------- -->
    <div class="row mt-2">
      <div class="col-2 text-right ">
        <p>รหัสผู้ประกอบการ : <span class="text-danger">*</span></p>
      </div>
      <div class="col-4">
        <div class="input-group mb-3">
          <input type="text" class="form-control form-control-sm" placeholder="ค้นหารหัสผู้ประกอบการ"
            aria-label="รหัสผู้ประกอบการ" aria-describedby="button-addon2" formControlName="custumerCode"
            maxlength="90" />
          <div class="input-group-append">
            <button class="btn btn-outline-info" type="button" id="button-addon2"
              (click)="openModalCustomer(customerModal)">
              <i class="fa fa-search" aria-hidden="true"></i>
            </button>
          </div>
        </div>
      </div>
      <div class="col-2 text-right ">
        <p>ชื่อผู้ประกอบการ : <span class="text-danger">*</span></p>
      </div>
      <div class="col-4">
        <input type="text" class="form-control form-control-sm" formControlName="custumerName" maxlength="90"
          readonly />
      </div>
    </div>


    <div class="row mt-2">
      <div class="col-2 text-right ">
        <p>สาขา : <span class="text-danger">*</span></p>
      </div>
      <div class="col-4">
        <input type="text" class="form-control form-control-sm" formControlName="custumerBranch" maxlength="190"
          readonly />
      </div>
    </div>

    <div class="row mt-2">
      <div class="col-2 text-right ">
        <p>เลขที่สัญญา :</p>
      </div>
      <div class="col-4">
        <input type="text" class="form-control form-control-sm" formControlName="contractNo" list="contractNo"
          placeholder="กรุณากรอกเลขที่สัญญา" maxlength="90" />
        <datalist id="contractNo">
          <option *ngFor="let items of contractNoList" [value]="items.contractNo">{{ items.contractNo }}</option>
        </datalist>
      </div>
    </div>

    <div class="row mt-2">
      <div class="col-2 text-right ">
        <p>สถานที่วางถังขยะ : <span class="text-danger">*</span></p>
      </div>
      <div class="col-4">
        <input type="text" class="form-control form-control-sm" placeholder="กรุณากรอกสถานที่วางถังขยะ" />
      </div>
    </div>
    <div class="row mt-2">
      <div class="col-2 text-right ">
        <p>พื้นที่เช่า : <span class="text-danger">*</span></p>
      </div>
      <div class="col-4">
        <input type="text" class="form-control form-control-sm" placeholder="กรุณากรอกพื้นที่เช่า" />
      </div>
      <div class="col-2 text-right ">
        <p>ประเภทขยะ : <span class="text-danger">*</span></p>
      </div>
      <div class="col-4">
        <select class="form-control form-control-sm">
          <option>กรุณาเลือกประเภทขยะ</option>
        </select>
      </div>
    </div>
    <div class="row mt-2">
      <div class="col-2 text-right ">
        <p>รวมอัตราค่าภาระ : <span class="text-danger">*</span></p>
      </div>
      <div class="col-4">
        <input type="text" class="form-control form-control-sm" placeholder="กรุณากรอกรวมอัตราค่าภาระ" />
      </div>
      <div class="col-1  ">
        <p>บาท</p>
      </div>
    </div>
    <div class="row mt-2">
      <div class="col-2 text-right ">
        <p>หมายเหตุ : <span class="text-danger">*</span></p>
      </div>
      <div class="col-10">
        <textarea class="form-control form-control-sm">
ยกเว้นการเรียกเก็บค่าบริการกำจัดขยะสำหรับหน่วยงานราชการต่างๆที่ปฎิบัติงานภายในอาคารผู้โดยสารและเขตปลอดอากรภายใน ทสภ. และ ผู้ประกอบการที่เช่าพื้นที่ที่มีการเรียกเก็บค่าธรรมเนียมการใช้บริการในอาคารแล้ว</textarea>
      </div>
    </div>
  </form>
</app-card>

<!-- saveModal -->
<modal-confirm #saveModal (onConfirm)="onSave()"></modal-confirm>
<!-- errorModal -->
<modal-error #errorModal></modal-error>
<!-- errorModal -->
<modal-success #successModal></modal-success>

<!-- customerModal -->
<ng-template #customerModal>
  <div class="modal-header">
    <p>เลือก ผู้ประกอบการ</p>
    <button type="button" class="close pull-right" aria-label="Close" (click)="onCloseModalCustomer()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
    <div class="modal-body">
      <table id="datatableCustomer" class="table table-bordered table-striped table-sm" style="width:100%">
        <thead class="text-center">
          <tr>
            <th class="text-center">รหัสผู้ประกอบการ</th>
            <th class="text-center">ชื่อผู้ประกอบการ</th>
            <th class="text-center">รหัสสาขา</th>
            <th class="text-center">ทีอยู่</th>
            <th></th>
          </tr>
        </thead>
      </table>
    </div>
    <div class="modal-footer text-right">
      <button-close (click)="onCloseModalCustomer()"></button-close>
    </div>
</ng-template>